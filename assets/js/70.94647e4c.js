(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{393:function(t,s,a){"use strict";a.r(s);var e=a(4),r=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("本文整理了Git版本控制系统的常用命令、配置方法和最佳实践。包含了从基础操作到分支管理的完整指南，以及常见问题的解决方案。\n")]),t._v(" "),s("h2",{attrs:{id:"git常用命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git常用命令"}},[t._v("#")]),t._v(" git常用命令")]),t._v(" "),s("ul",[s("li",[t._v('ssh-keygen -t rsa -b 4096 -C "919006380@qq.com"  #创建ssh钥匙,创建成功最后会出现正方形里面有乱码')]),t._v(" "),s("li",[t._v("cd ~/.ssh  //查找ssh文件")]),t._v(" "),s("li",[t._v("echo “hello” >> a.md  //在文件尾部插入一个字符串，一个“>”代表 覆盖。")]),t._v(" "),s("li",[t._v("git status //查看仓库当前状态")]),t._v(" "),s("li",[t._v("git diff  //是工作区(work dict)和暂存区(stage)的比较")]),t._v(" "),s("li",[t._v("git diff --cached //是暂存区(stage)和分支(master)的比较")]),t._v(" "),s("li",[t._v("git log  //显示最近存档commit日志 “--pretty=oneline”参数显示简化版")]),t._v(" "),s("li",[t._v("git reset --hard HEAD^ //退回上一个版本 ^^两个^等于上上个版本。")]),t._v(" "),s("li",[t._v("git reset --hard 3628164 //切换版本 3628164等于版本号的前几位数字，没必要写全git会自动查找")]),t._v(" "),s("li",[t._v("git reflog // 列出你每一次存档的命令，包括前几位数的版本号")])]),t._v(" "),s("blockquote",[s("p",[t._v("git config --global core.quotepath false //解决中文文件名乱码\ngit config core.ignorecase false   git默认对大小写不敏感，会将大写的名称改成小写提交，可配置为对大小写敏感")])]),t._v(" "),s("h2",{attrs:{id:"三个很有用的-git-命令。"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三个很有用的-git-命令。"}},[t._v("#")]),t._v(" 三个很有用的 git 命令。")]),t._v(" "),s("ul",[s("li",[t._v("git grep <关键词> ：搜索含有关键词的文件。")]),t._v(" "),s("li",[t._v("git blame <文件名>：查看指定文件每一行的提交人和提交时间。")]),t._v(" "),s("li",[t._v("git log -p <文件名>：查看指定文件的每一次提交和改动。")])]),t._v(" "),s("h2",{attrs:{id:"修改全局用户名和邮箱"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改全局用户名和邮箱"}},[t._v("#")]),t._v(" 修改全局用户名和邮箱")]),t._v(" "),s("ul",[s("li",[t._v('git config --global user.email "919006380@qq.com"')]),t._v(" "),s("li",[t._v('git config --global user.name "weibo"')])]),t._v(" "),s("h2",{attrs:{id:"查看用户名和地址"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看用户名和地址"}},[t._v("#")]),t._v(" 查看用户名和地址")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("git config user.name\ngit config user.email\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("h2",{attrs:{id:"修改完后推送上github三步代码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改完后推送上github三步代码"}},[t._v("#")]),t._v(" 修改完后推送上github三步代码")]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v("  // 文件进入暂存区，. 表示添加所有已修改的，-A表示添加所有文件包括删除的\n "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" commit "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-am")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"add"')]),t._v(" // 存档，实际上就是把暂存区的所有内容提交到当前分支"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("master"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("其中\n “ ”内写入的是本次提交的说明，可以是任意内容\n "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" push   // push到远端GitHub的master上\n \n --------------常用参数说明------------------------------------\n "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" -A:"),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("path"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# [<path>]表示把<path>中所有tracked文件中被修改过或已删除文件和所有untracted的文件信息添加到索引库。省略<path>表示.,即当前目录。")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-i")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#我们可以通过git add -i 命令查看当前目录中被所有修改过或已删除文件但没有提交的文件，并通过其revert子命令可以查看当前目录中所有untracted的文件，同时进入一个子命令系统。")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" commit "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-v")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#查看存档并且添加存档信息")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br")])]),s("h2",{attrs:{id:"关联远程库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#关联远程库"}},[t._v("#")]),t._v(" 关联远程库")]),t._v(" "),s("ul",[s("li",[t._v("git remote add origin git@server-name:path/repo-name.git //关联一个远程库\n"),s("ul",[s("li",[t._v("git remote add origin git@github.com:qq919006380/WEBdesignPattern.git")]),t._v(" "),s("li",[t._v("git remote add origin git@github.com:qq919006380/WEBdesignPattern.git")]),t._v(" "),s("li",[t._v("git remote set-url origin git@github.com:qq919006380/WEBdesignPattern.git")])])]),t._v(" "),s("li",[t._v("git remote set-url origin [url] //修改关联一个远程库")]),t._v(" "),s("li",[t._v("git remote rm origin      //删除关联一个远程库")]),t._v(" "),s("li",[t._v("git push origin master// 关联后推送内容")])]),t._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[s("a",{attrs:{href:"http://www.ruanyifeng.com/blog/2014/06/git_remote.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("阮一峰远程操作详解"),s("OutboundLink")],1)])]),t._v(" "),s("h2",{attrs:{id:"批量修改commit信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#批量修改commit信息"}},[t._v("#")]),t._v(" 批量修改commit信息")]),t._v(" "),s("ol",[s("li",[t._v("修改所有历史提交:")])]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" filter-branch --env-filter "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'\nOLD_EMAIL="旧邮箱地址"\nCORRECT_NAME="新用户名"\nCORRECT_EMAIL="新邮箱地址"\n\nif [ "$GIT_COMMITTER_EMAIL" = "$OLD_EMAIL" ]\nthen\n    export GIT_COMMITTER_NAME="$CORRECT_NAME"\n    export GIT_COMMITTER_EMAIL="$CORRECT_EMAIL"\nfi\nif [ "$GIT_AUTHOR_EMAIL" = "$OLD_EMAIL" ]\nthen\n    export GIT_AUTHOR_NAME="$CORRECT_NAME"\n    export GIT_AUTHOR_EMAIL="$CORRECT_EMAIL"\nfi\n\'')]),t._v(" --tag-name-filter "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cat")]),t._v(" -- "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--branches")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--tags")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br")])]),s("ol",{attrs:{start:"2"}},[s("li",[t._v("修改最近N次提交:")])]),t._v(" "),s("ul",[s("li",[t._v("开始交互式rebase: "),s("code",[t._v("git rebase -i HEAD~N")]),t._v("  # N是要修改的提交数量")]),t._v(" "),s("li",[t._v("在编辑器中将要修改的提交前的 'pick' 改为 'edit'")]),t._v(" "),s("li",[t._v("对每个提交执行: "),s("code",[t._v('git commit --amend --author="新用户名 <新邮箱>"')])]),t._v(" "),s("li",[t._v("继续rebase过程: "),s("code",[t._v("git rebase --continue")])])]),t._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[t._v("推送修改:")])]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" push "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-f")]),t._v(" origin main  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 警告：强制推送会覆盖远程历史，请谨慎使用")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("ol",{attrs:{start:"4"}},[s("li",[t._v("验证更改:")])]),t._v(" "),s("ul",[s("li",[t._v("查看提交历史: "),s("code",[t._v("git log --pretty=full")]),t._v("  # 显示完整的作者信息")])]),t._v(" "),s("h2",{attrs:{id:"分支管理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#分支管理"}},[t._v("#")]),t._v(" 分支管理")]),t._v(" "),s("ul",[s("li",[t._v("查看分支：git branch")]),t._v(" "),s("li",[t._v("查看分支包括隐藏分支：git branch -a")]),t._v(" "),s("li",[t._v("创建分支：git branch "),s("code",[t._v("<name>")])]),t._v(" "),s("li",[t._v("切换分支：git checkout "),s("code",[t._v("<name>")])]),t._v(" "),s("li",[t._v("创建+切换分支：git checkout -b "),s("code",[t._v("<name>")])]),t._v(" "),s("li",[t._v("合并某分支到当前分支：git merge "),s("code",[t._v("<name>")])]),t._v(" "),s("li",[t._v("删除分支：git branch -d "),s("code",[t._v("<name>")])]),t._v(" "),s("li",[t._v("查看分支合并途：git log --graph")]),t._v(" "),s("li",[t._v("查看远程库的信息：git remote")]),t._v(" "),s("li",[t._v("查看远程库详细的信息：git remote -v")])]),t._v(" "),s("h2",{attrs:{id:"三个状态"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三个状态"}},[t._v("#")]),t._v(" 三个状态")]),t._v(" "),s("ul",[s("li",[t._v("已提交（mommitted）该文件已经被安全地保存在本地数据中了")]),t._v(" "),s("li",[t._v("已修改（modified）修改了某个文件，但还没有提交保存")]),t._v(" "),s("li",[t._v("已缓存（staged）吧已修改的文件放在下次提交时要保存的清单中")])]),t._v(" "),s("h2",{attrs:{id:"三个区"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三个区"}},[t._v("#")]),t._v(" 三个区")]),t._v(" "),s("ul",[s("li",[t._v("工作区（Working Directory）  //本机电脑能看的目录文件夹，知识库")]),t._v(" "),s("li",[t._v("版本库（Repository）  //工作区有一个隐藏目录.git，这个是版本库")]),t._v(" "),s("li",[t._v("暂存区 //Git的版本库里的stage（或者叫index）的叫暂存区")])]),t._v(" "),s("h2",{attrs:{id:"参见错误"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参见错误"}},[t._v("#")]),t._v(" 参见错误")]),t._v(" "),s("div",{staticClass:"language-log line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-log"}},[s("code",[s("span",{pre:!0,attrs:{class:"token property"}},[t._v("ssh:")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("connect to host ssh.github.com port 44:")]),t._v(" Connection refused\n"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("fatal:")]),t._v(" Could not read from remote repository"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n\nPlease make sure you have the correct access rights\nand the repository exists"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("p",[t._v("此错误是您网络下的防火墙阻止了某些端口，解决"),s("br"),t._v(" "),s("code",[t._v("vim ~/.ssh/config")]),s("br"),t._v("\n按i进入编辑模式，复制黏贴以下内容")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("Host github.com\n Hostname ssh.github.com\n Port 443\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[t._v("之后按Esc退出编辑模式，后输入"),s("code",[t._v(":wq")]),t._v("保存退出"),s("br"),t._v("\n运行命令"),s("code",[t._v("ssh -T git@github.com")]),t._v("以确认问题是否已解决。  "),s("a",{attrs:{href:"https://stackoverflow.com/questions/15589682/ssh-connect-to-host-github-com-port-22-connection-timed-out",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考资料"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("需要注意的是有时候执行完上面的命令，问题依然没有解决，最后在我折腾了一个下午之后，发现换一个网络就可以了...之后这个问题再也没有深入研究过了。")]),t._v(" "),s("p",[t._v("过了第好几天之后，发现换了个网也不行了，无奈之下继续排查，发现是"),s("code",[t._v("github dns污染")]),t._v("造成，只需跟换host就可以，"),s("a",{attrs:{href:"https://github.com/521xueweihan/GitHub520",target:"_blank",rel:"noopener noreferrer"}},[t._v("具体参考"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"图形工具"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#图形工具"}},[t._v("#")]),t._v(" 图形工具")]),t._v(" "),s("ul",[s("li",[t._v("sourcetree")]),t._v(" "),s("li",[t._v("tortoisegit小乌龟")])]),t._v(" "),s("p",[s("a",{attrs:{href:"https://jirengu.com/app/watch/382/1?vsum=1",target:"_blank",rel:"noopener noreferrer"}},[t._v("git讲解视频"),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000",target:"_blank",rel:"noopener noreferrer"}},[t._v("廖雪峰git教程"),s("OutboundLink")],1),t._v(" "),s("a",{attrs:{href:"https://www.imooc.com/learn/390",target:"_blank",rel:"noopener noreferrer"}},[t._v("github慕课视频"),s("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=r.exports}}]);