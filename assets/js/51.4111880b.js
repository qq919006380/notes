(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{374:function(s,a,t){"use strict";t.r(a);var n=t(4),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("ul",[a("li",[a("h1",{attrs:{id:"node"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node"}},[s._v("#")]),s._v(" "),a("a",{attrs:{href:"http://www.imooc.com/learn/348",target:"_blank",rel:"noopener noreferrer"}},[s._v("Node"),a("OutboundLink")],1)])])]),s._v(" "),a("h2",{attrs:{id:"简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[s._v("#")]),s._v(" 简介")]),s._v(" "),a("p",[s._v("Node诞生于2009年，是基于 Google V8 引擎的 JavaScript 运行时环境，具有 I/O、文件读写、操作数据库(服务器端)等能力，具有事件驱动，非阻塞 I/O 模型等特性，主要作用为前端的开发工具与网站后端。Node.js 内置了开源包管理器npm。")]),s._v(" "),a("hr"),s._v(" "),a("h1",{attrs:{id:"npm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#npm"}},[s._v("#")]),s._v(" "),a("a",{attrs:{href:"https://juejin.im/post/5ab3f77df265da2392364341",target:"_blank",rel:"noopener noreferrer"}},[s._v("npm"),a("OutboundLink")],1)]),s._v(" "),a("h2",{attrs:{id:"安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),a("ul",[a("li",[s._v("本地安装\n"),a("ul",[a("li",[s._v("将安装包放在 ./node_modules 下（运行npm时所在的目录）")]),s._v(" "),a("li",[s._v("可以通过 require() 来引入本地安装的包")]),s._v(" "),a("li",[s._v("npm install xxx 安装xxx模块到当前目录，但不记录到package.json里。")]),s._v(" "),a("li",[s._v("npm install --save xxx 安装xxx模块，并且记录到package.json里，字段对应的dependency，是产品环境必须依赖的模块\n"),a("ul",[a("li",[s._v("注意 node6开始--save的默认的，可以不写 npm i XXX")])])]),s._v(" "),a("li",[s._v("npm install xxx --save-dev把你的安装包信息写入package.json文件的dev-Dependencies字段中\n"),a("ul",[a("li",[s._v("npm i -d xxx (简写)")])])]),s._v(" "),a("li",[s._v("./node_modules/.bin/ XXX\t执行一个本地目录安装的包命令\n"),a("ul",[a("li",[s._v("npx XXX （缩写）")])])])])]),s._v(" "),a("li",[s._v("全局安装\n"),a("ul",[a("li",[s._v("npm install --global xxx全局安装xxx模块，但不记录到package.json里，如果模块里package.json有bin配置，会自动链接，作为cli命令")]),s._v(" "),a("li",[s._v("全局安装可以直接在命令行里使用")]),s._v(" "),a("li",[s._v("npm root -g  查看全局安装目录")]),s._v(" "),a("li",[s._v("npm list -g --depth 0 查看全局安装的包")]),s._v(" "),a("li")])]),s._v(" "),a("li",[s._v("npm uninstall  删除包")]),s._v(" "),a("li",[s._v("npm install   下载package.json记录的包")]),s._v(" "),a("li",[s._v("npm root -g  查看全局包的安装目录")])]),s._v(" "),a("h2",{attrs:{id:"npm-命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#npm-命令"}},[s._v("#")]),s._v(" npm 命令")]),s._v(" "),a("ul",[a("li",[s._v("npm init 初始化创建一个包")]),s._v(" "),a("li",[s._v("npm init -y 初始化创建一个默认的包")]),s._v(" "),a("li",[s._v("npm run xxx  启动npm脚本 （package.json的script）")]),s._v(" "),a("li",[s._v("关于速度慢\n"),a("ul",[a("li",[s._v("方案1:\n"),a("ul",[a("li",[s._v("npm install -g ppt-cli --registry=https://registry.npm.taobao.org")])])]),s._v(" "),a("li",[s._v("方案2：nrm 一个快速切换源版本的工具\n"),a("ul",[a("li",[s._v("npm install -g nrm")]),s._v(" "),a("li",[s._v("nrm ls")]),s._v(" "),a("li",[s._v("nrm use taobao")])])])])]),s._v(" "),a("li",[s._v("参数\n"),a("ul",[a("li",[s._v("--loglevel silent //简化log消息（"),a("strong",[s._v("没有消息是最好的消息")]),s._v("）\n"),a("ul",[a("li",[s._v("-s //简写")])])]),s._v(" "),a("li",[s._v("--loglevel verbose //详细log消息\n"),a("ul",[a("li",[s._v("-d //简写")])])])])])]),s._v(" "),a("p",[s._v("其他npm命令 http://javascript.ruanyifeng.com/nodejs/npm.html")]),s._v(" "),a("h2",{attrs:{id:"发布npm包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#发布npm包"}},[s._v("#")]),s._v(" 发布npm包")]),s._v(" "),a("ul",[a("li",[s._v("npm adduser\t//添加登录npm用户")]),s._v(" "),a("li",[s._v("npm whoami  //查看当前登录的用户")]),s._v(" "),a("li",[s._v("npm publish")])]),s._v(" "),a("blockquote",[a("p",[s._v("注意：发布前需要查看当前源是否npm，npm包名字是否已经被占用,版本号是否与发布前版本号相同，package.JSON文件中的main字段是包的加载的入口文件默认是index.js")])]),s._v(" "),a("h2",{attrs:{id:"测试npm包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#测试npm包"}},[s._v("#")]),s._v(" 测试npm包")]),s._v(" "),a("p",[s._v("（在准备发布的包根目录下使用）npm link  当前的包发布到全局目录"),a("br"),s._v("\n（在准备发布的包根目录下使用）unnpm link  当前的包在全局目录下删除"),a("br"),s._v("\n（在项目中使用）npm link XXX 用全局目录的包替换掉当前使用的包"),a("br"),s._v("\n（在项目中使用）npm unlink XXX  用回当前本地的包")]),s._v(" "),a("blockquote",[a("p",[s._v("npm link 只是对目录做了一个软链,只有需要本地测试的时候用到。")])]),s._v(" "),a("h1",{attrs:{id:"系统模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#系统模块"}},[s._v("#")]),s._v(" 系统模块")]),s._v(" "),a("h3",{attrs:{id:"http模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#http模块"}},[s._v("#")]),s._v(" http模块")]),s._v(" "),a("p",[s._v("创建服务")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("http.createServer(function(req,res){\n\tvar obj=urlLib.parse(req.url)\n\tres.end()\n}).listen(8080)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h3",{attrs:{id:"fs模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#fs模块"}},[s._v("#")]),s._v(" fs模块")]),s._v(" "),a("p",[s._v("读写文件")]),s._v(" "),a("ul",[a("li",[s._v("fs.readFile('fileName','callback(err,data){}')\n"),a("ul",[a("li",[s._v("读文件")])])]),s._v(" "),a("li",[s._v("fs.writeFile('fileName','content','callback(err,dara){}')\n"),a("ul",[a("li",[s._v("写或创建文件")])])])]),s._v(" "),a("h3",{attrs:{id:"url模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url模块"}},[s._v("#")]),s._v(" url模块")]),s._v(" "),a("p",[s._v("解析url 主要解析get数据")]),s._v(" "),a("ul",[a("li",[s._v("url.pathname 获取及设置URL的路径(path)部分")]),s._v(" "),a("li",[s._v("url.parse(req.url,true)")])]),s._v(" "),a("h3",{attrs:{id:"querystring模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#querystring模块"}},[s._v("#")]),s._v(" querystring模块")]),s._v(" "),a("p",[s._v("主要解析post数据")]),s._v(" "),a("h3",{attrs:{id:"path模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#path模块"}},[s._v("#")]),s._v(" path模块")]),s._v(" "),a("p",[s._v("主要用于处理文件与目录的路径")]),s._v(" "),a("h1",{attrs:{id:"自定义模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自定义模块"}},[s._v("#")]),s._v(" 自定义模块")]),s._v(" "),a("h3",{attrs:{id:"引入"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#引入"}},[s._v("#")]),s._v(" 引入")]),s._v(" "),a("blockquote",[a("p",[s._v("var mod=quirequi=('mod')\n注意：如果不在module_nodes文件下的模块需要加——'./' 如 var mod=quirequi=('./mod')")])]),s._v(" "),a("h3",{attrs:{id:"输出"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#输出"}},[s._v("#")]),s._v(" 输出")]),s._v(" "),a("blockquote",[a("p",[s._v("exports.xxx=??  \texports.yyy=??")]),s._v(" "),a("p",[s._v("module.exports={xxx:??,yyy:??}")])]),s._v(" "),a("h1",{attrs:{id:"调试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#调试"}},[s._v("#")]),s._v(" 调试")]),s._v(" "),a("p",[s._v("断点调试：断点调试：node debugger 或node inspector 或vscode\n"),a("a",{attrs:{href:"https://github.com/ericdum/mujiang.info/issues/6/",target:"_blank",rel:"noopener noreferrer"}},[s._v("package.json中文文档"),a("OutboundLink")],1)]),s._v(" "),a("h1",{attrs:{id:"node版本管理器-nvm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node版本管理器-nvm"}},[s._v("#")]),s._v(" node版本管理器——nvm")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('nvm ls\t//查看已下载的版本列表\nnvm use  <versionNumber> //使用版本\nnvm install <versionNumber> //下载\nnvm uninstall <versionNumber> //删除\nnvm node_mirror <node_mirror_url>：设置节点镜像,可以使用https://npm.taobao.org/mirrors/node/\n\n请注意： 在安装nvm for windows之前，你需要卸载任何现有版本的node.js。并且需要删除现有的nodejs安装目录（例如："C:\\Program Files\\nodejs’）。因为，nvm生成的symlink（符号链接/超链接)不会覆盖现有的（甚至是空的）安装目录。\n你还需要删除现有的npm安装位置（例如“C:\\Users\\weiqinl\\AppData\\Roaming\\npm”），以便正确使用nvm安装位置。\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h1",{attrs:{id:"node后端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node后端"}},[s._v("#")]),s._v(" node后端")]),s._v(" "),a("h2",{attrs:{id:"cookie-session"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cookie-session"}},[s._v("#")]),s._v(" cookie&session")]),s._v(" "),a("p",[s._v("cookie和session都是储存数据用的，区别在于")]),s._v(" "),a("ul",[a("li",[s._v("cookie储存在客户端（不安全）\n"),a("ul",[a("li",[s._v("只能存储4K数据")])])]),s._v(" "),a("li",[s._v("session储存在服务器（安全）\n"),a("ul",[a("li",[s._v("可以存储大量数据，只要服务器容量大")]),s._v(" "),a("li",[s._v("基于cookie实现")]),s._v(" "),a("li",[s._v("隐患：session劫持")])])])]),s._v(" "),a("h2",{attrs:{id:"node后端框架-express"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node后端框架-express"}},[s._v("#")]),s._v(" node后端框架 "),a("a",{attrs:{href:"http://www.expressjs.com.cn/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Express"),a("OutboundLink")],1)]),s._v(" "),a("h4",{attrs:{id:"安装应用生成器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装应用生成器"}},[s._v("#")]),s._v(" 安装应用生成器")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("npm install express-generator -g\nnpm install express-generator --save-dev ———— 一般安装在本地项目中，方便在开发机环境使用\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h4",{attrs:{id:"创建应用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建应用"}},[s._v("#")]),s._v(" 创建应用")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("express myapp //在当前目录下创建一个名为myapp的工程文件\ncd myapp  //进入文件夹\nnpm install  //安装所有依赖包\nnpm start   //打开服务\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h3",{attrs:{id:"创建基本服务三步"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建基本服务三步"}},[s._v("#")]),s._v(" 创建基本服务三步")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" express"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'express'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//1.创建服务")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" server"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("express")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//2.处理请求 ")]),s._v("\nserver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/b.html'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("send")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'BBB'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("end")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//3.监听端口")]),s._v("\nserver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("listen")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("ul",[a("li",[s._v("请求req\n"),a("ul",[a("li",[s._v("req.params.xx //读取url返回：后面的xx参数")]),s._v(" "),a("li",[s._v("req.path   //读取url返回/后面的url")]),s._v(" "),a("li",[s._v("req.query  //读取？后面的参数")])])]),s._v(" "),a("li",[s._v("响应res\n"),a("ul",[a("li",[s._v("sss")])])])])])}),[],!1,null,null,null);a.default=e.exports}}]);